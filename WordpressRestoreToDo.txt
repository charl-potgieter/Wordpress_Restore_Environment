Maybe separate into 3 scripts:
* Create environment
* Backup (incremental)
* Restore (again incremental))

Continue work on wordpress_create_restore_environment.sh
 - cannot log into phpMyAdmin but it may be the case that it needs the mysql database itself in place? --> maybe start to create a restore script and see how things go?


Potentially stop running script as root - will cause problems with password config files? 


Is there an easy way to change the home drive to a mounted drive like dropbox on my local pc so config files don't need to be copied over each time

Backup:

Document the password config files



https://www.linux-magazine.com/Online/Features/Bash-Tips-Passing-Passwords
https://stackoverflow.com/questions/9293042/how-to-perform-a-mysqldump-without-a-password-prompt
https://stackoverflow.com/questions/42761829/lftp-save-username-password-for-specific-server

--> issue is the script must then not be run as root

Mysqldump progress status would be good


Issues with Mysqldump password passing.   Maybe I shouldnt be storing passwords in variables anyway?

 * wget is going to have issues with files that are updated and then get duplicated.  Try lftp
 https://www.cyberciti.biz/faq/lftp-mirror-example/
 https://randyzwitch.com/mirror-ftp-lftp/

  Below seems to be on the right track but needs to prompt for password
  lftp -e "mirror -c -e --parallel=20 --verbose /public_html /home/charl/temp_wp_backups/files;" ftp://username@powernumerics.com

   Now having certificate issue but maybe solvable with beliow
   https://gist.github.com/pixeline/0f9f922cffb5a6bba97a  


 * Work on below to FTP files:
    wget -O --ask-password -m ftp://username@powernumerics.com -P /TargetPath


All this may be overkill --> maybe just download from phpMyAdmin

* Mysql download - may need to use SSH ?
Below works (username and password are for the mysql datababase found in the wp-config.php file) but ..
NOTE: For above to work first need to add pc (host) IP address to godaddy cpanel under Remote Mysql

sudo mysqldump --column-statistics=0 -h powernumerics.com -u i8640980_wp1 -p --no-tablespaces i8640980_wp1 > ~/a432.sql






--> Maybe not:
https://stackoverflow.com/questions/2989724/how-to-mysqldump-remote-db-from-local-machine
mysqldump -h hostname-of-the-server -u mysql_user -p database_name > file.sql

# May have to add host ip?
# https://au.godaddy.com/help/connect-remotely-to-a-mysql-database-in-my-linux-hosting-account-16103



   Below command seems to work inside ssh:
   mysqldump -h localhost -u jkdwrlryv6s3 -p --no-tablespaces i8640980_wp1 > file_name.sql

   And issued from a bash script
   ssh jkdwrlryv6s3@powernumerics.com mysqldump -h localhost -u jkdwrlryv6s3 -p --no-tablespaces i8640980_wp1 > ~/file_name_local.sql
   --> this saves to home directory on the client (as opposed to teh remote server)



   Should I potentially use the --all-databases option rather than having to specify the table --> will this work on import?

   https://au.godaddy.com/help/enable-ssh-for-my-linux-hosting-account-16102
   
   https://linuxize.com/post/how-to-back-up-and-restore-mysql-databases-with-mysqldump/

   https://stackoverflow.com/questions/10146987/using-a-bash-script-to-connect-to-remote-server-make-and-download-mysql-databa